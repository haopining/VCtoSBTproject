import { TableColumn } from 'typeorm';
/**
 * Fix inconsistencies between Entity data and column data.
 *
 * @public
 */
export class SimplifyRelations1447159020002 {
    async up(queryRunner) {
        function getTableName(givenName) {
            return (queryRunner.connection.entityMetadatas.find((meta) => meta.givenTableName === givenName)?.tableName ||
                givenName);
        }
        await queryRunner.changeColumn(getTableName('key'), 'identifierDid', new TableColumn({ name: 'identifierDid', type: 'varchar', isNullable: true }));
        await queryRunner.changeColumn(getTableName('service'), 'identifierDid', new TableColumn({ name: 'identifierDid', type: 'varchar', isNullable: true }));
    }
    async down(queryRunner) {
        throw new Error('illegal_operation: cannot roll back initial migration');
    }
}
//# sourceMappingURL=2.simplifyRelations.js.map